{"version":3,"file":"IndexController.js","sourceRoot":"src/","sources":["controllers/pages/IndexController.ts"],"names":[],"mappings":";;;;AAAA,iCAAgD;AAChD,2DAAqD;AACrD,yDAA4C;AAE5C,yCAAoD;AAI7C,IAAM,eAAe,GAArB,MAAM,eAAe;IAElB,OAAO,CAAoB;IAKnC,GAAG,CACkC,QAAgB,EAC7B,IAAY;QAElC,MAAM,OAAO,GAAG,GAAG,QAAQ,IAAI,MAAM,MAAM,IAAI,EAAE,CAAC;QAElD,OAAO;YACL,QAAQ,EAAE,OAAO;YACjB,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;gBAC9B,OAAO;oBACL,GAAG,EAAE,OAAO,GAAG,IAAI,CAAC,IAAI;oBACxB,GAAG,IAAI;iBACR,CAAC;YACJ,CAAC,CAAC;SACH,CAAC;IACJ,CAAC;CACF,CAAA;AAvBY,0CAAe;AAElB;IADP,IAAA,aAAQ,EAAC,SAAS,CAAC;;gDACe;AAKnC;IAHC,IAAA,YAAG,EAAC,GAAG,CAAC;IACR,IAAA,qBAAI,EAAC,aAAa,CAAC;IACnB,IAAA,gBAAO,EAAC,GAAG,EAAE,MAAM,CAAC,CAAC,WAAW,CAAC,WAAW,CAAC;IAE3C,mBAAA,IAAA,8BAAY,EAAC,mBAAmB,CAAC,CAAA;IACjC,mBAAA,IAAA,8BAAY,EAAC,MAAM,CAAC,CAAA;;;;0CAatB;0BAtBU,eAAe;IAF3B,IAAA,eAAM,GAAE;IACR,IAAA,eAAU,EAAC,GAAG,CAAC;GACH,eAAe,CAuB3B","sourcesContent":["import { Constant, Controller } from \"@tsed/di\";\nimport { HeaderParams } from \"@tsed/platform-params\";\nimport { View } from \"@tsed/platform-views\";\nimport { SwaggerSettings } from \"@tsed/swagger\";\nimport { Hidden, Get, Returns } from \"@tsed/schema\";\n\n@Hidden()\n@Controller(\"/\")\nexport class IndexController {\n  @Constant(\"swagger\")\n  private swagger: SwaggerSettings[];\n\n  @Get(\"/\")\n  @View(\"swagger.ejs\")\n  @Returns(200, String).ContentType(\"text/html\")\n  get(\n    @HeaderParams(\"x-forwarded-proto\") protocol: string,\n    @HeaderParams(\"host\") host: string\n  ) {\n    const hostUrl = `${protocol || \"http\"}://${host}`;\n\n    return {\n      BASE_URL: hostUrl,\n      docs: this.swagger.map((conf) => {\n        return {\n          url: hostUrl + conf.path,\n          ...conf\n        };\n      })\n    };\n  }\n}\n"]}